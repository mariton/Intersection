{"ast":null,"code":"import React from 'react';\nimport { Circles, Intersection } from './utilities';\n\nclass Legend extends React.Component {\n  constructor(chart, options, dims, data, scales) {\n    super(chart, options);\n\n    this.updateData = newData => {\n      this.data = newData;\n      this.allLegend = this.chart.selectAll('legendCircle').data(this.data);\n    };\n\n    this.enter = () => {\n      console.log(\"intra\");\n      this.chart.selectAll('rect').append('circle').attr('class', 'legendCircle').attr('cx', (d, i) => this.scales.xScale(d[\"column\"], d[\"rowKey\"])).attr('cy', d => this.scales.yScale(d[\"rowKey\"])).attr('r', d => d[\"value\"] * 3).attr('fill', d => d[\"color\"]).attr(\"opacity\", 0.8);\n      this.exit();\n    };\n\n    this.exit = () => {\n      this.allCircles.exit().remove();\n    };\n\n    this.chart = chart;\n    this.options = options;\n    this.dims = dims;\n    this.data = data;\n    this.scales = scales;\n    this.chart.append('g').attr('class', 'legend');\n    this.chart.selectAll('g .legend').append('rect').attr('x', this.dims.innerWidth).attr('y', this.dims.innerHeight - 100).attr('fill', '#efefef').attr('class', 'legend');\n    console.log(\"legend data\", this.data);\n    this.enter();\n  }\n\n}\n\nexport default Legend;","map":{"version":3,"sources":["/Users/marinas/WORK/GIT/ReactD3-projects/React-projects/size_matrix/src/matrix/Legend.js"],"names":["React","Circles","Intersection","Legend","Component","constructor","chart","options","dims","data","scales","updateData","newData","allLegend","selectAll","enter","console","log","append","attr","d","i","xScale","yScale","exit","allCircles","remove","innerWidth","innerHeight"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,EAAkBC,YAAlB,QAAsC,aAAtC;;AAEA,MAAMC,MAAN,SAAqBH,KAAK,CAACI,SAA3B,CAAoC;AACnCC,EAAAA,WAAW,CAACC,KAAD,EAAQC,OAAR,EAAiBC,IAAjB,EAAuBC,IAAvB,EAA6BC,MAA7B,EAAqC;AAC/C,UAAMJ,KAAN,EAAaC,OAAb;;AAD+C,SAwBhDI,UAxBgD,GAwBlCC,OAAD,IAAa;AACzB,WAAKH,IAAL,GAAYG,OAAZ;AACA,WAAKC,SAAL,GAAiB,KAAKP,KAAL,CAAWQ,SAAX,CAAqB,cAArB,EAAqCL,IAArC,CAA0C,KAAKA,IAA/C,CAAjB;AAEA,KA5B+C;;AAAA,SA8BhDM,KA9BgD,GA8BxC,MAAM;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AAGA,WAAKX,KAAL,CAAWQ,SAAX,CAAqB,MAArB,EACEI,MADF,CACS,QADT,EAEKC,IAFL,CAEU,OAFV,EAEmB,cAFnB,EAGKA,IAHL,CAGU,IAHV,EAGgB,CAACC,CAAD,EAAGC,CAAH,KAAO,KAAKX,MAAL,CAAYY,MAAZ,CAAmBF,CAAC,CAAC,QAAD,CAApB,EAA+BA,CAAC,CAAC,QAAD,CAAhC,CAHvB,EAIKD,IAJL,CAIU,IAJV,EAIiBC,CAAD,IAAK,KAAKV,MAAL,CAAYa,MAAZ,CAAmBH,CAAC,CAAC,QAAD,CAApB,CAJrB,EAKKD,IALL,CAKU,GALV,EAKgBC,CAAD,IAAOA,CAAC,CAAC,OAAD,CAAD,GAAa,CALnC,EAMKD,IANL,CAMU,MANV,EAMmBC,CAAD,IAAOA,CAAC,CAAC,OAAD,CAN1B,EAOKD,IAPL,CAOU,SAPV,EAOqB,GAPrB;AASM,WAAKK,IAAL;AACN,KA5C+C;;AAAA,SA6ChDA,IA7CgD,GA6C3C,MAAI;AACL,WAAKC,UAAL,CAAgBD,IAAhB,GAAuBE,MAAvB;AACH,KA/C+C;;AAE/C,SAAKpB,KAAL,GAAaA,KAAb;AACA,SAAKC,OAAL,GAAeA,OAAf;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,MAAL,GAAcA,MAAd;AAEA,SAAKJ,KAAL,CAAWY,MAAX,CAAkB,GAAlB,EACEC,IADF,CACO,OADP,EACgB,QADhB;AAIA,SAAKb,KAAL,CAAWQ,SAAX,CAAqB,WAArB,EACEI,MADF,CACS,MADT,EAEEC,IAFF,CAEO,GAFP,EAEY,KAAKX,IAAL,CAAUmB,UAFtB,EAGER,IAHF,CAGO,GAHP,EAGY,KAAKX,IAAL,CAAUoB,WAAV,GAAwB,GAHpC,EAIET,IAJF,CAIO,MAJP,EAIe,SAJf,EAKEA,IALF,CAKO,OALP,EAKgB,QALhB;AAMAH,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,KAAKR,IAAhC;AAGA,SAAKM,KAAL;AACA;;AAvBkC;;AAoDpC,eAAeZ,MAAf","sourcesContent":["import React from 'react';\nimport { Circles, Intersection } from './utilities';\n\nclass Legend extends React.Component{\n\tconstructor(chart, options, dims, data, scales) {\n\t\tsuper(chart, options);\n\t\tthis.chart = chart;\n\t\tthis.options = options;\n\t\tthis.dims = dims;\n\t\tthis.data = data;\n\t\tthis.scales = scales;\n\n\t\tthis.chart.append('g')\n\t\t\t.attr('class', 'legend');\n\t\t\t\n\t\t\n\t\tthis.chart.selectAll('g .legend')\n\t\t\t.append('rect')\n\t\t\t.attr('x', this.dims.innerWidth )\n\t\t\t.attr('y', this.dims.innerHeight - 100)\n\t\t\t.attr('fill', '#efefef')\n\t\t\t.attr('class', 'legend'); \n\t\tconsole.log(\"legend data\", this.data);\n\n\n\t\tthis.enter();\n\t};\n\n\tupdateData = (newData) => {\n\t\tthis.data = newData;\n\t\tthis.allLegend = this.chart.selectAll('legendCircle').data(this.data);\n\n\t};\n\n\tenter = () => {\n\t\tconsole.log(\"intra\");\n\t\t\n\t\t\n\t\tthis.chart.selectAll('rect')\n\t\t\t.append('circle')\n\t\t    .attr('class', 'legendCircle')\n\t\t    .attr('cx', (d,i)=>this.scales.xScale(d[\"column\"],d[\"rowKey\"]))\n\t\t    .attr('cy', (d)=>this.scales.yScale(d[\"rowKey\"]))\n\t\t    .attr('r', (d) => d[\"value\"] * 3)\n\t\t    .attr('fill', (d) => d[\"color\"])\n\t\t    .attr(\"opacity\", 0.8);\n\n        this.exit();\n\t};\n\texit=()=>{\n\t    this.allCircles.exit().remove();\n\t};\n\n}\n\nexport default Legend;"]},"metadata":{},"sourceType":"module"}