{"ast":null,"code":"import _slicedToArray from \"/Users/marinas/WORK/GIT/ReactD3-projects/React-projects/size_matrix/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/marinas/WORK/GIT/ReactD3-projects/React-projects/size_matrix/src/ReactDims.js\";\nimport React, { useRef, useState, useEffect } from 'react';\nconst ReactDims = React.createContext(null);\nexport const Provider = props => {\n  const domNode = useRef(null);\n  useEffect(() => {\n    const getNodeDimensions = () => {\n      const _useState = useState({}),\n            _useState2 = _slicedToArray(_useState, 2),\n            dimensions = _useState2[0],\n            setDimensions = _useState2[1];\n\n      const _useState3 = useState(0),\n            _useState4 = _slicedToArray(_useState3, 2),\n            timeoutID = _useState4[0],\n            newTimeoutID = _useState4[1];\n\n      clearTimeout(timeoutID);\n      newTimeoutID(setTimeout(() => {\n        setDimensions(domNode.current.getBoundingClientRect());\n      }, 300));\n    };\n\n    window.addEventListener('resize', getNodeDimensions);\n    return () => {\n      window.removeEventListener('resize', getNodeDimensions);\n    };\n  }, []);\n  return React.createElement(\"div\", {\n    ref: domNode,\n    style: {\n      height: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(ReactDims.Provider, {\n    value: dimensions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, props.children));\n}; // here is the consumer;\n\nexport const withContext = ChildComponent => {\n  return props => React.createElement(ReactDims.Consumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, incomingDims => React.createElement(ChildComponent, Object.assign({}, props, {\n    dims: incomingDims,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  })));\n};","map":{"version":3,"sources":["/Users/marinas/WORK/GIT/ReactD3-projects/React-projects/size_matrix/src/ReactDims.js"],"names":["React","useRef","useState","useEffect","ReactDims","createContext","Provider","props","domNode","getNodeDimensions","dimensions","setDimensions","timeoutID","newTimeoutID","clearTimeout","setTimeout","current","getBoundingClientRect","window","addEventListener","removeEventListener","height","children","withContext","ChildComponent","incomingDims"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,EAAkCC,SAAlC,QAAmD,OAAnD;AAEA,MAAMC,SAAS,GAAGJ,KAAK,CAACK,aAAN,CAAoB,IAApB,CAAlB;AAIA,OAAO,MAAMC,QAAQ,GAAIC,KAAD,IAAS;AAC/B,QAAMC,OAAO,GAAGP,MAAM,CAAC,IAAD,CAAtB;AAEAE,EAAAA,SAAS,CAAC,MAAI;AACZ,UAAMM,iBAAiB,GAAG,MAAI;AAAA,wBACQP,QAAQ,CAAC,EAAD,CADhB;AAAA;AAAA,YACrBQ,UADqB;AAAA,YACTC,aADS;;AAAA,yBAEMT,QAAQ,CAAC,CAAD,CAFd;AAAA;AAAA,YAErBU,SAFqB;AAAA,YAEVC,YAFU;;AAG5BC,MAAAA,YAAY,CAACF,SAAD,CAAZ;AACAC,MAAAA,YAAY,CAACE,UAAU,CAAC,MAAI;AACzBJ,QAAAA,aAAa,CAACH,OAAO,CAACQ,OAAR,CAAgBC,qBAAhB,EAAD,CAAb;AACA,OAFoB,EAElB,GAFkB,CAAX,CAAZ;AAID,KARD;;AASAC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCV,iBAAlC;AACA,WAAO,MAAI;AAAES,MAAAA,MAAM,CAACE,mBAAP,CAA2B,QAA3B,EAAqCX,iBAArC;AAAwD,KAArE;AACD,GAZQ,EAYN,EAZM,CAAT;AAcF,SACI;AAAK,IAAA,GAAG,EAAED,OAAV;AAAmB,IAAA,KAAK,EAAE;AAACa,MAAAA,MAAM,EAAE;AAAT,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD,CAAW,QAAX;AAAoB,IAAA,KAAK,EAAEX,UAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,KAAK,CAACe,QADT,CADF,CADJ;AAOC,CAxBM,C,CAyBP;;AACA,OAAO,MAAMC,WAAW,GAAEC,cAAD,IAAkB;AACvC,SAAQjB,KAAD,IACH,oBAAC,SAAD,CAAW,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACIkB,YAAD,IAAiB,oBAAC,cAAD,oBAAoBlB,KAApB;AAA2B,IAAA,IAAI,EAAEkB,YAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADpB,CADJ;AAKH,CANM","sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\n\nconst ReactDims = React.createContext(null);\n\n\n\nexport const Provider = (props)=>{\n  const domNode = useRef(null); \n  \n  useEffect(()=>{\n    const getNodeDimensions = ()=>{\n      const [dimensions, setDimensions] = useState({});\n      const [timeoutID, newTimeoutID] = useState(0);\n      clearTimeout(timeoutID);\n      newTimeoutID(setTimeout(()=>{\n         setDimensions(domNode.current.getBoundingClientRect());\n        }, 300)\n      );\n    };\n    window.addEventListener('resize', getNodeDimensions);\n    return ()=>{ window.removeEventListener('resize', getNodeDimensions)};\n  }, []);\n\nreturn (\n    <div ref={domNode} style={{height: '100%'}}>\n      <ReactDims.Provider value={dimensions}>\n        {props.children}\n      </ReactDims.Provider>\n    </div>\n  )\n};\n// here is the consumer;\nexport const withContext=(ChildComponent)=>{\n    return (props)=>(\n        <ReactDims.Consumer>\n          {(incomingDims)=>(<ChildComponent {...props} dims={incomingDims} />)}\n        </ReactDims.Consumer>\n    )\n};"]},"metadata":{},"sourceType":"module"}