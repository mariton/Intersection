{"ast":null,"code":"import 'd3-selection';\nimport 'd3-transition';\n\nclass Intersection {\n  constructor(chart, data, scales) {\n    this.enter = () => {\n      this.allIntersection.enter().append('rect').attr('class', 'intersection').attr('x', (d, i) => i * this.scales.xScale(d[\"column\"], d[\"rowKey\"])).attr('y', d => this.scales.yScale(d[\"rowKey\"])).attr('fill', d => d[\"color\"]);\n      this.allIntersection.enter().append('text').attr('class', 'intersection').attr(\"y\", function (d) {\n        return (y(d.y1) + y(d.y0)) / 2;\n      }) // Center text\n      .attr(\"fill\", \"#fff\").style(\"stroke-width\", 1).style({\n        \"font-size\": \"18px\",\n        \"z-index\": \"999999999\"\n      }).style(\"text-anchor\", \"middle\").text(function (d) {\n        return ((d.y1 - d.y0) * 100).toFixed(0);\n      });\n    };\n\n    this.updateData = newData => {\n      this.data = newData;\n      this.allIntersection = this.chart.selectAll('.intersection').data(this.data);\n      this.allIntersection.transition().duration(1000).attr('x', (d, i) => this.scales.xScale(d[\"column\"], d[\"rowKey\"])).attr('y', d => this.scales.yScale(d[\"rowKey\"])).attr('fill', d => d[\"color\"]);\n      this.enter();\n    };\n\n    this.exit = () => {\n      this.allIntersection.exit().remove();\n    };\n\n    this.chart = chart;\n    this.scales = scales;\n    this.updateData(data);\n  }\n\n}\n\nexport default Intersection;","map":{"version":3,"sources":["/Users/marinas/WORK/GIT/ReactD3-projects/React-projects/size_matrix/src/matrix/utilities/Intersection.js"],"names":["Intersection","constructor","chart","data","scales","enter","allIntersection","append","attr","d","i","xScale","yScale","y","y1","y0","style","text","toFixed","updateData","newData","selectAll","transition","duration","exit","remove"],"mappings":"AAAA,OAAQ,cAAR;AACA,OAAO,eAAP;;AAEA,MAAMA,YAAN,CAAmB;AAClBC,EAAAA,WAAW,CAACC,KAAD,EAAQC,IAAR,EAAcC,MAAd,EAAqB;AAAA,SAMhCC,KANgC,GAM1B,MAAI;AACT,WAAKC,eAAL,CAAqBD,KAArB,GACEE,MADF,CACS,MADT,EAEEC,IAFF,CAEO,OAFP,EAEgB,cAFhB,EAGEA,IAHF,CAGO,GAHP,EAGY,CAACC,CAAD,EAAGC,CAAH,KAAOA,CAAC,GAAC,KAAKN,MAAL,CAAYO,MAAZ,CAAmBF,CAAC,CAAC,QAAD,CAApB,EAA+BA,CAAC,CAAC,QAAD,CAAhC,CAHrB,EAIQD,IAJR,CAIa,GAJb,EAImBC,CAAD,IAAK,KAAKL,MAAL,CAAYQ,MAAZ,CAAmBH,CAAC,CAAC,QAAD,CAApB,CAJvB,EAKQD,IALR,CAKa,MALb,EAKsBC,CAAD,IAAOA,CAAC,CAAC,OAAD,CAL7B;AAMM,WAAKH,eAAL,CAAqBD,KAArB,GACJE,MADI,CACG,MADH,EAEJC,IAFI,CAEC,OAFD,EAEU,cAFV,EAGJA,IAHI,CAGC,GAHD,EAGM,UAASC,CAAT,EAAY;AAAE,eAAO,CAACI,CAAC,CAACJ,CAAC,CAACK,EAAH,CAAD,GAAUD,CAAC,CAACJ,CAAC,CAACM,EAAH,CAAZ,IAAsB,CAA7B;AAAiC,OAHrD,EAGuD;AAHvD,OAICP,IAJD,CAIM,MAJN,EAIa,MAJb,EAKAQ,KALA,CAKM,cALN,EAKsB,CALtB,EAMCA,KAND,CAMO;AAAC,qBAAY,MAAb;AAAoB,mBAAU;AAA9B,OANP,EAOAA,KAPA,CAOM,aAPN,EAOqB,QAPrB,EAQCC,IARD,CAQM,UAASR,CAAT,EAAY;AAAE,eAAO,CAAC,CAACA,CAAC,CAACK,EAAF,GAAKL,CAAC,CAACM,EAAR,IAAY,GAAb,EAAkBG,OAAlB,CAA0B,CAA1B,CAAP;AAAqC,OARzD;AAUN,KAvB+B;;AAAA,SAwBhCC,UAxBgC,GAwBpBC,OAAD,IAAW;AAClB,WAAKjB,IAAL,GAAYiB,OAAZ;AAEA,WAAKd,eAAL,GACE,KAAKJ,KAAL,CAAWmB,SAAX,CAAqB,eAArB,EAAsClB,IAAtC,CAA2C,KAAKA,IAAhD,CADF;AAEA,WAAKG,eAAL,CAAqBgB,UAArB,GAAkCC,QAAlC,CAA2C,IAA3C,EACDf,IADC,CACI,GADJ,EACS,CAACC,CAAD,EAAGC,CAAH,KAAO,KAAKN,MAAL,CAAYO,MAAZ,CAAmBF,CAAC,CAAC,QAAD,CAApB,EAA+BA,CAAC,CAAC,QAAD,CAAhC,CADhB,EAEKD,IAFL,CAEU,GAFV,EAEgBC,CAAD,IAAK,KAAKL,MAAL,CAAYQ,MAAZ,CAAmBH,CAAC,CAAC,QAAD,CAApB,CAFpB,EAGKD,IAHL,CAGU,MAHV,EAGmBC,CAAD,IAAOA,CAAC,CAAC,OAAD,CAH1B;AAIA,WAAKJ,KAAL;AACH,KAlC+B;;AAAA,SAmChCmB,IAnCgC,GAmC3B,MAAI;AACR,WAAKlB,eAAL,CAAqBkB,IAArB,GAA4BC,MAA5B;AACA,KArC+B;;AAC5B,SAAKvB,KAAL,GAAaA,KAAb;AACA,SAAKE,MAAL,GAAcA,MAAd;AACA,SAAKe,UAAL,CAAgBhB,IAAhB;AACH;;AALiB;;AA2CnB,eAAeH,YAAf","sourcesContent":["import  'd3-selection';\nimport 'd3-transition';\n\nclass Intersection {\n\tconstructor(chart, data, scales){\n\t    this.chart = chart;\n\t    this.scales = scales;\n\t    this.updateData(data);\n\t};\n\n\tenter=()=>{\n\t\tthis.allIntersection.enter()\n\t\t\t.append('rect')\n\t\t\t.attr('class', 'intersection')\n\t\t\t.attr('x', (d,i)=>i*this.scales.xScale(d[\"column\"],d[\"rowKey\"]))\n        \t.attr('y', (d)=>this.scales.yScale(d[\"rowKey\"]))\n        \t.attr('fill', (d) => d[\"color\"])\n        this.allIntersection.enter()\n\t\t\t.append('text')\n\t\t\t.attr('class', 'intersection')\n\t\t\t.attr(\"y\", function(d) { return (y(d.y1) + y(d.y0)) / 2; }) // Center text\n\t      \t.attr(\"fill\",\"#fff\")\n\t     \t.style(\"stroke-width\", 1)\n\t      \t.style({\"font-size\":\"18px\",\"z-index\":\"999999999\"})\n\t     \t.style(\"text-anchor\", \"middle\")\n\t      \t.text(function(d) { return ((d.y1-d.y0)*100).toFixed(0);});\n\n\t};\n\tupdateData=(newData)=>{\n\t    this.data = newData;\n\n\t    this.allIntersection =\n\t      this.chart.selectAll('.intersection').data(this.data);\n\t    this.allIntersection.transition().duration(1000)\n\t\t\t.attr('x', (d,i)=>this.scales.xScale(d[\"column\"],d[\"rowKey\"]))\n        \t.attr('y', (d)=>this.scales.yScale(d[\"rowKey\"]))\n\t        .attr('fill', (d) => d[\"color\"])\n\t    this.enter();\n\t};\n\texit=()=>{\n\t\tthis.allIntersection.exit().remove();\n\t};\n\n\n}\n\nexport default Intersection;"]},"metadata":{},"sourceType":"module"}