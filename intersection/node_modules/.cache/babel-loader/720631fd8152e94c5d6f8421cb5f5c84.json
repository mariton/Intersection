{"ast":null,"code":"import 'd3-selection';\nimport 'd3-transition';\nimport d3 from 'd3';\n\nclass Circles {\n  constructor(chart, data, scales) {\n    this.updateData = newData => {\n      this.data = newData;\n      this.allCircles = this.chart.selectAll('.myCircle').data(this.data);\n      this.allCircles.transition().duration(1000).attr('cx', (d, i) => this.scales.xScale(d[\"column\"], d[\"rowKey\"])).attr('cy', d => this.scales.yScale(d[\"rowKey\"])).attr('fill', d => d[\"color\"]);\n      this.enter();\n    };\n\n    this.enter = () => {\n      this.allCircles.enter().append('circle').attr('class', 'myCircle').attr('cx', (d, i) => this.scales.xScale(d[\"column\"], d[\"rowKey\"])).attr('cy', d => this.scales.yScale(d[\"rowKey\"])).attr('r', d => d[\"value\"] * 3).attr('fill', d => d[\"color\"]).attr(\"opacity\", 0.8).on(\"mouseover\", function (d) {\n        this.allCircles.transition().duration(200).attr(\"opacity\", .9);\n        this.allCircles.html(d[\"column\"] + d[\"rowKey\"]).attr(\"left\", d3.event.pageX + \"px\").attr(\"top\", d3.event.pageY - 28 + \"px\");\n      }).on(\"mouseout\", function (d) {\n        this.allCircles.transition().duration(500).attr(\"opacity\", 0);\n      });\n      this.exit();\n    };\n\n    this.exit = () => {\n      this.allCircles.exit().remove();\n    };\n\n    this.updateScales = newScales => {\n      this.scales = newScales;\n      this.allCircles = this.chart.selectAll('.myCircle').prototype.transition().duration(500).attr('cx', (d, i) => this.scales.xScale(d[\"column\"], d[\"rowKey\"])).attr('cy', d => this.scales.yScale(d[\"rowKey\"]));\n    };\n\n    this.chart = chart;\n    this.scales = scales;\n    this.updateData(data);\n  }\n\n}\n\n;\nexport default Circles;","map":{"version":3,"sources":["/Users/marinas/WORK/GIT/ReactD3-projects/React-projects/size_matrix/src/matrix/utilities/Circles.js"],"names":["d3","Circles","constructor","chart","data","scales","updateData","newData","allCircles","selectAll","transition","duration","attr","d","i","xScale","yScale","enter","append","on","html","event","pageX","pageY","exit","remove","updateScales","newScales","prototype"],"mappings":"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","sourcesContent":["import  'd3-selection';\nimport 'd3-transition';\nimport d3 from 'd3';\n\nclass Circles {\n  constructor(chart, data, scales){\n    this.chart = chart;\n    this.scales = scales;\n    this.updateData(data);\n  };\n\n  updateData=(newData)=>{\n    this.data = newData;\n\n    this.allCircles =\n      this.chart.selectAll('.myCircle').data(this.data);\n    this.allCircles.transition().duration(1000)\n        .attr('cx', (d,i)=>this.scales.xScale(d[\"column\"],d[\"rowKey\"]))\n        .attr('cy', (d)=>this.scales.yScale(d[\"rowKey\"]))\n        .attr('fill', (d) => d[\"color\"])\n    this.enter();\n  };\n  enter=()=>{\n    this.allCircles.enter()\n      .append('circle')\n        .attr('class', 'myCircle')\n        .attr('cx', (d,i)=>this.scales.xScale(d[\"column\"],d[\"rowKey\"]))\n        .attr('cy', (d)=>this.scales.yScale(d[\"rowKey\"]))\n        .attr('r', (d) => d[\"value\"] * 3)\n        .attr('fill', (d) => d[\"color\"])\n        .attr(\"opacity\", 0.8)\n        .on(\"mouseover\", function(d) {    \n           this.allCircles.transition()    \n                .duration(200)    \n                .attr(\"opacity\", .9);    \n            this.allCircles.html( d[\"column\"] + d[\"rowKey\"])  \n                .attr(\"left\", (d3.event.pageX) + \"px\")   \n                .attr(\"top\", (d3.event.pageY - 28) + \"px\");  \n            })          \n        .on(\"mouseout\", function(d) {   \n            this.allCircles.transition()    \n                .duration(500)    \n                .attr(\"opacity\", 0); \n        });\n    this.exit();\n  };\n  exit=()=>{\n    this.allCircles.exit().remove();\n  };\n  updateScales=(newScales)=>{\n    this.scales = newScales;\n    this.allCircles =\n      this.chart.selectAll('.myCircle')\n        .prototype.transition().duration(500)\n          .attr('cx', (d,i)=>this.scales.xScale(d[\"column\"],d[\"rowKey\"]))\n          .attr('cy', (d)=>this.scales.yScale(d[\"rowKey\"]))\n  };\n};\nexport default Circles;"]},"metadata":{},"sourceType":"module"}