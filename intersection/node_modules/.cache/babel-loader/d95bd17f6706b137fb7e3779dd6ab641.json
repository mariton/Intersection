{"ast":null,"code":"import React from 'react';\nimport { Circles, Intersection, Dimensions } from './utilities';\n\nclass Legend extends React.Component {\n  constructor(chart, options, dims, data, scales) {\n    super(chart, options);\n\n    this.updateData = newData => {\n      this.data = newData;\n      console.log(\"legend\", this.data);\n      this.allLegend = this.legend.selectAll('.legendCircle').data(this.data);\n      this.allLegend.attr('cx', d => {\n        return 10;\n      }).attr('cy', (d, i) => {\n        return this.dimLegend.innerHeight * (i + 1);\n      }).attr('fill', d => d.color);\n      this.enter();\n    };\n\n    this.enter = () => {\n      this.allLegend.enter().append('circle').attr('class', 'legendCircle').attr('cx', d => {\n        return 10;\n      }).attr('cy', (d, i) => {\n        return this.dimLegend.innerHeight * (i + 1);\n      }).attr('r', d => 5).attr('fill', d => d.color).attr(\"opacity\", 0.8);\n      this.allLegend.enter().append('text').text('alabala').attr('x', 20).attr('y', (d, i) => {\n        return this.dimLegend.innerHeight * (i + 1) + 3;\n      }).attr('class', 'legendText');\n      this.exit();\n    };\n\n    this.exit = () => {\n      this.allLegend.exit().remove();\n    };\n\n    this.chart = chart;\n    this.options = options;\n    this.dims = dims;\n    this.scales = scales;\n    this.legend = this.chart.append('g').attr('transform', \"translate(\".concat(this.dims.innerWidth, \", \").concat(this.dims.innerHeight, \")\")).attr('class', 'legend'); // this.legend\n    // \t.append('rect')\n    // \t.attr('x', 0)\n    // \t.attr('y', -100)\n    // \t.attr('fill', '#fff')\n    // \t.attr('stroke', 'black')\n    // \t.attr('class', 'legend'); \n\n    console.log(\"legend data\", data); // this.rect = this.legend.selectAll('rect .legend');\n    // console.log(\"Legend rect\",this.rect);\n\n    this.dimLegend = new Dimensions({\n      width: 100,\n      height: 100\n    });\n    this.updateData(data);\n  }\n\n}\n\nexport default Legend;","map":{"version":3,"sources":["/Users/marinas/WORK/GIT/ReactD3-projects/React-projects/size_matrix/src/matrix/Legend.js"],"names":["React","Circles","Intersection","Dimensions","Legend","Component","constructor","chart","options","dims","data","scales","updateData","newData","console","log","allLegend","legend","selectAll","attr","d","i","dimLegend","innerHeight","color","enter","append","text","exit","remove","innerWidth","width","height"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Circles, Intersection, Dimensions } from './utilities';\n\nclass Legend extends React.Component{\n\tconstructor(chart, options, dims, data, scales) {\n\t\tsuper(chart, options);\n\t\tthis.chart = chart;\n\t\tthis.options = options;\n\t\tthis.dims = dims;\n\t\tthis.scales = scales;\n\n\t\tthis.legend = this.chart.append('g').attr('transform', `translate(${this.dims.innerWidth}, ${this.dims.innerHeight})`)\n\t\t\t.attr('class', 'legend');\n\t\t\t\n\t\t// this.legend\n\t\t// \t.append('rect')\n\t\t// \t.attr('x', 0)\n\t\t// \t.attr('y', -100)\n\t\t// \t.attr('fill', '#fff')\n\t\t// \t.attr('stroke', 'black')\n\t\t// \t.attr('class', 'legend'); \n\n\t\tconsole.log(\"legend data\", data);\n\n\t\t// this.rect = this.legend.selectAll('rect .legend');\n\n\t\t// console.log(\"Legend rect\",this.rect);\n\n\t\tthis.dimLegend = new Dimensions({width:100, height:100});\n\n\t\tthis.updateData(data);\n\t};\n\n\tupdateData = (newData) => {\n\t\tthis.data = newData;\n\n\t\tconsole.log(\"legend\", this.data);\n\t\tthis.allLegend = this.legend.selectAll('.legendCircle').data(this.data);\n\t\tthis.allLegend\n\t        .attr('cx', (d) => {return 10})\n\t        .attr('cy', (d,i) => {return this.dimLegend.innerHeight*(i+1)})\n\t        .attr('fill', (d) => d.color)\n   \t\tthis.enter();\n\t};\n\n\tenter = () => {\n\t\tthis.allLegend.enter()\n\t        .append('circle')\n\t        .attr('class', 'legendCircle')\n\t        .attr('cx', (d)=> {return 10})\n\t        .attr('cy', (d, i)=>{return this.dimLegend.innerHeight*(i+1) })\n\t        .attr('r', (d) => 5)\n\t        .attr('fill', (d) => d.color)\n\t        .attr(\"opacity\", 0.8);\n\n\t    this.allLegend.enter().append('text')\n\t        .text('alabala')\n\t        .attr('x', 20)\n\t        .attr('y', (d, i)=>{return this.dimLegend.innerHeight*(i+1) + 3})\n\t        .attr('class', 'legendText');\n\n        this.exit();\n\t};\n\texit=()=>{\n\t    this.allLegend.exit().remove();\n\t};\n\n}\n\nexport default Legend;"]},"metadata":{},"sourceType":"module"}