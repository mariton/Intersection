{"ast":null,"code":"import _slicedToArray from \"/Users/marinas/WORK/GIT/ReactD3-projects/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/marinas/WORK/GIT/ReactD3-projects/my-app/src/ReactNode.js\";\nimport React, { useRef, useState, useEffect } from 'react';\nimport { withContext } from 'react-dims';\nimport ThePattern from './ThePattern';\n\nconst ReactNode = ({\n  dims,\n  data\n}) => {\n  const domNode = useRef(null);\n\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        canvas = _useState2[0],\n        createCanvas = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        vizInitialized = _useState4[0],\n        setVizInitialized = _useState4[1];\n\n  useEffect(() => {\n    createCanvas(() => new ThePattern(domNode.current));\n  }, []);\n  useEffect(() => {\n    vizInitialized && canvas.updateDims(dims);\n  }, [dims]);\n  useEffect(() => {\n    if (data.length > 1 && dims.width && vizInitialized === false) {\n      canvas.init(data, dims);\n      setVizInitialized(() => true);\n    }\n\n    ;\n  }, [data, dims]);\n  return React.createElement(\"div\", {\n    ref: domNode,\n    style: {\n      display: 'grid',\n      height: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  });\n};\n\nexport default withContext(ReactNode);","map":{"version":3,"sources":["/Users/marinas/WORK/GIT/ReactD3-projects/my-app/src/ReactNode.js"],"names":["React","useRef","useState","useEffect","withContext","ThePattern","ReactNode","dims","data","domNode","canvas","createCanvas","vizInitialized","setVizInitialized","current","updateDims","length","width","init","display","height"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,SAASC,WAAT,QAA4B,YAA5B;AACA,OAAOC,UAAP,MAAuB,cAAvB;;AAEA,MAAMC,SAAS,GAAG,CAAC;AAACC,EAAAA,IAAD;AAAOC,EAAAA;AAAP,CAAD,KAAgB;AACjC,QAAMC,OAAO,GAAGR,MAAM,CAAC,IAAD,CAAtB;;AADiC,oBAEAC,QAAQ,CAAC,IAAD,CAFR;AAAA;AAAA,QAEzBQ,MAFyB;AAAA,QAEjBC,YAFiB;;AAAA,qBAGYT,QAAQ,CAAC,KAAD,CAHpB;AAAA;AAAA,QAGzBU,cAHyB;AAAA,QAGTC,iBAHS;;AAKjCV,EAAAA,SAAS,CAAC,MAAI;AACVQ,IAAAA,YAAY,CAAC,MAAI,IAAIN,UAAJ,CAAeI,OAAO,CAACK,OAAvB,CAAL,CAAZ;AACD,GAFM,EAEL,EAFK,CAAT;AAIAX,EAAAA,SAAS,CAAC,MAAI;AACXS,IAAAA,cAAc,IAAIF,MAAM,CAACK,UAAP,CAAkBR,IAAlB,CAAlB;AACC,GAFK,EAEJ,CAACA,IAAD,CAFI,CAAT;AAIAJ,EAAAA,SAAS,CAAC,MAAI;AACV,QAAGK,IAAI,CAACQ,MAAL,GAAY,CAAZ,IAAiBT,IAAI,CAACU,KAAtB,IAA+BL,cAAc,KAAG,KAAnD,EAAyD;AACvDF,MAAAA,MAAM,CAACQ,IAAP,CAAYV,IAAZ,EAAkBD,IAAlB;AACAM,MAAAA,iBAAiB,CAAC,MAAI,IAAL,CAAjB;AACD;;AAAA;AACJ,GALQ,EAKP,CAACL,IAAD,EAAOD,IAAP,CALO,CAAT;AAOA,SACC;AAAK,IAAA,GAAG,EAAEE,OAAV;AAAmB,IAAA,KAAK,EAAE;AAACU,MAAAA,OAAO,EAAE,MAAV;AAAkBC,MAAAA,MAAM,EAAE;AAA1B,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD;AAGA,CAvBD;;AAyBA,eAAehB,WAAW,CAACE,SAAD,CAA1B","sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport { withContext } from 'react-dims';\nimport ThePattern from './ThePattern';\n\nconst ReactNode = ({dims, data})=>{\n\tconst domNode = useRef(null);\n\tconst [ canvas, createCanvas ] = useState(null);\n\tconst [ vizInitialized, setVizInitialized ]= useState(false);\n\t\n\tuseEffect(()=>{\n\t    createCanvas(()=>new ThePattern(domNode.current));\n\t  },[]);\n\t\n\tuseEffect(()=>{\n    vizInitialized && canvas.updateDims(dims);\n    },[dims]);\n\n\tuseEffect(()=>{\n\t    if(data.length>1 && dims.width && vizInitialized===false){\n\t      canvas.init(data, dims);\n\t      setVizInitialized(()=>true);\n\t    };\n\t},[data, dims]);\n\n\treturn (\n\t\t<div ref={domNode} style={{display: 'grid', height: '100%'}}/>\n\t\t)\n};\n\nexport default withContext(ReactNode);"]},"metadata":{},"sourceType":"module"}