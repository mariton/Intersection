{"ast":null,"code":"import * as R from 'ramda';\nexport const xAxis = items => {\n  const xScaleKey = 'x';\n  const getXLabels = R.pipe(R.flatten, R.sortBy(R.prop(xScaleKey)), R.map(R.prop(xScaleKey)), R.uniq);\n  const xLabels = getXLabels(items);\n  return xLabels;\n};\nexport const yAxis = items => {\n  const getYLabels = R.pipe(R.flatten, R.uniq);\n  const yLabels = getYLabels(items);\n  return yLabels.sort();\n};\nexport const normalize = R.pipe(R.unnest, R.map(({\n  items,\n  y,\n  color,\n  label\n}) => {\n  return R.map(R.pipe(R.assoc('y', y), R.assoc('color', color), R.assoc('label', label)), items);\n}), R.unnest);\nexport const getDatasource = dataRaw => {\n  return dataRaw.map(ds => ds.data);\n};\nexport const setAttributes = R.pipe(R.map(({\n  data,\n  color,\n  label\n}) => {\n  return R.map(R.pipe(R.assoc('color', color), R.assoc('label', label)), data);\n}), R.unnest);\nexport const setLegendAttributes = (dataRaw, category) => {\n  var legendData = [];\n  dataRaw.map(row => {\n    legendData.push(R.pick([category, 'color'], row));\n  });\n  return legendData;\n};\nexport const intersections = circlesData => R.pipe(R.groupBy(({\n  y,\n  x\n}) => y + x), R.filter(R.compose(R.lt(1), R.length)), R.map(R.head), R.values)(circlesData);\nexport const defaultColor = options => {\n  return options.legendSettings.colorIntersection !== undefined ? intersectionColor = options.legendSettings.colorIntersection : '';\n};","map":{"version":3,"sources":["/Users/marinas/WORK/GIT/ReactD3-projects/React-projects/size_matrix/src/matrix/functions.js"],"names":["R","xAxis","items","xScaleKey","getXLabels","pipe","flatten","sortBy","prop","map","uniq","xLabels","yAxis","getYLabels","yLabels","sort","normalize","unnest","y","color","label","assoc","getDatasource","dataRaw","ds","data","setAttributes","setLegendAttributes","category","legendData","row","push","pick","intersections","circlesData","groupBy","x","filter","compose","lt","length","head","values","defaultColor","options","legendSettings","colorIntersection","undefined","intersectionColor"],"mappings":"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","sourcesContent":["import * as R from 'ramda';\n\nexport const xAxis = (items) => {\n\tconst xScaleKey = 'x';\n\n\tconst getXLabels = R.pipe(\n\t\tR.flatten,\n\t\tR.sortBy(R.prop(xScaleKey)),\n\t\tR.map(R.prop(xScaleKey)),\n\t\tR.uniq\n\t\t)\n\n\tconst xLabels = getXLabels(items);\n\treturn xLabels;\n};\nexport const yAxis = (items) => {\n\n\tconst getYLabels = R.pipe(\n\t\tR.flatten,\n\t\tR.uniq\n\t\t)\n\n\tconst yLabels = getYLabels(items);\n\treturn yLabels.sort();\n};\n\nexport const normalize = R.pipe(\n  R.unnest,\n  R.map(({items, y, color, label}) => {\n    return R.map(R.pipe(\n    \tR.assoc('y', y),\n    \tR.assoc('color', color),\n    \tR.assoc('label', label)\n    ), items)\n  }),\n  R.unnest\n);\n\nexport const getDatasource = (dataRaw) => {\n\t\treturn dataRaw.map(ds => (ds.data))\n};\n\nexport const setAttributes = R.pipe(\n\tR.map(({data, color, label}) => {\n\t\treturn R.map(R.pipe(\n\t\t\t\tR.assoc('color', color),\n\t\t\t\tR.assoc('label', label)), data)\n\t\t}\n\t),\n\tR.unnest\n);\n\nexport const setLegendAttributes = (dataRaw, category) => {\n\t\tvar legendData = [];\n\t\tdataRaw.map(row => {legendData.push(R.pick([category, 'color'], row));});\n\t\treturn legendData;\n};\n\nexport const intersections =(circlesData)=> R.pipe(\n\t    \tR.groupBy(({y, x}) => (y + x)),\n\t    \tR.filter(R.compose(R.lt(1), R.length)),\n\t    \tR.map(R.head),\n\t    \tR.values\n\t\t)(circlesData);\nexport const defaultColor=(options) =>{\n\t\treturn  (options.legendSettings.colorIntersection!==undefined)?intersectionColor=options.legendSettings.colorIntersection:'';\n};"]},"metadata":{},"sourceType":"module"}